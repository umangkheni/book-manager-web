{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/umang/OneDrive/Desktop/books/book-manager/src/pages/_document.js"],"sourcesContent":["import { Html, Head, Main, NextScript } from \"next/document\";\n\nexport default function Document() {\n  return (\n    <Html lang=\"en\">\n      <Head />\n      <body>\n        <Main />\n        <NextScript />\n      </body>\n    </Html>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS;IACtB,qBACE,qKAAC,yHAAA,CAAA,OAAI;QAAC,MAAK;;0BACT,qKAAC,yHAAA,CAAA,OAAI;;;;;0BACL,qKAAC;;kCACC,qKAAC,yHAAA,CAAA,OAAI;;;;;kCACL,qKAAC,yHAAA,CAAA,aAAU;;;;;;;;;;;;;;;;;AAInB"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/umang/OneDrive/Desktop/books/book-manager/src/pages/_app.js"],"sourcesContent":["import \"@/styles/globals.css\";\nimport { useRouter } from 'next/router';\nimport { useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default function App({ Component, pageProps }) {\n  const router = useRouter();\n\n  useEffect(() => {    \n    if (typeof window !== 'undefined') {\n      const user = localStorage.getItem('token');      \n      if (user) {\n        if (router.asPath === '/login' || router.asPath === '/register') {\n          router.push('/');\n        }\n      } else {\n        if (router.asPath !== '/login' && router.asPath !== '/register') {\n          router.push('/login');\n        }\n      }\n    }\n  }, [router]);\n\n  return (\n    <>\n      <Component {...pageProps} />\n      <ToastContainer />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;;;;;;;;;;;AAGe,SAAS,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE;IAClD,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR,uCAAmC;;QAWnC;IACF,GAAG;QAAC;KAAO;IAEX,qBACE;;0BACE,qKAAC;gBAAW,GAAG,SAAS;;;;;;0BACxB,qKAAC,kIAAA,CAAA,iBAAc;;;;;;;AAGrB"}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/umang/OneDrive/Desktop/books/book-manager/src/context/AuthContext.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { createContext, useContext, useState } from \"react\";\r\nimport { toast } from 'react-toastify';\r\nimport dotenv from 'dotenv';\r\ndotenv.config();\r\n\r\naxios.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    if (error.response.status === 404) {\r\n      toast.error(\"Request failed with status code 404\");\r\n    } else if (error.response.status === 401) {\r\n      toast.error(\"Invalid credentials\");\r\n    } else if (error.response.status === 409) {\r\n      toast.error(\"User already exists\");\r\n    } else {\r\n      toast.error(\"An unexpected error occurred\");\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n    const [user, setUser] = useState(typeof window !== 'undefined' ? localStorage.getItem(\"token\") : null);\r\n\r\n    const login = async (email, password) => {\r\n        try {\r\n            const { data } = await axios.post(`${process.env.SERVER_URL}/api/auth/login`, { email, password });\r\n            localStorage.setItem(\"token\", data.data.token);\r\n            setUser({ email });\r\n            toast.success(\"Login successful\");\r\n        } catch (err) {\r\n            toast.error(err.response.data.message);\r\n            throw new Error(err.response.data.message);\r\n        }\r\n    };\r\n\r\n    const register = async (email, password) => {\r\n        try {\r\n            const { data } = await axios.post(`${process.env.SERVER_URL}/api/auth/register`, { email, password });\r\n            \r\n            localStorage.setItem(\"token\", data.data.token);\r\n            setUser({ email });\r\n            toast.success(\"Registration successful\");\r\n        } catch (err) {\r\n            toast.error(err.response.data.message);\r\n            throw new Error(err.response.data.message);\r\n        }\r\n    };\r\n\r\n    const logout = () => {\r\n        localStorage.removeItem(\"token\");\r\n        setUser(null);\r\n        toast.success(\"Logged out successfully\");\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, login, register, logout }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;AACA,qGAAA,CAAA,UAAM,CAAC,MAAM;AAEb,0GAAA,CAAA,UAAK,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC7B,CAAC;IACC,OAAO;AACT,GACA,CAAC;IACC,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;QACjC,kIAAA,CAAA,QAAK,CAAC,KAAK,CAAC;IACd,OAAO,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;QACxC,kIAAA,CAAA,QAAK,CAAC,KAAK,CAAC;IACd,OAAO,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;QACxC,kIAAA,CAAA,QAAK,CAAC,KAAK,CAAC;IACd,OAAO;QACL,kIAAA,CAAA,QAAK,CAAC,KAAK,CAAC;IACd;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGK,MAAM,4BAAc,CAAA,GAAA,mGAAA,CAAA,gBAAa,AAAD;AAEhC,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAE;IACrC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE,6EAAgE;IAEjG,MAAM,QAAQ,OAAO,OAAO;QACxB,IAAI;YACA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,0GAAA,CAAA,UAAK,CAAC,IAAI,CAAC,GAAG,QAAQ,GAAG,CAAC,UAAU,CAAC,eAAe,CAAC,EAAE;gBAAE;gBAAO;YAAS;YAChG,aAAa,OAAO,CAAC,SAAS,KAAK,IAAI,CAAC,KAAK;YAC7C,QAAQ;gBAAE;YAAM;YAChB,kIAAA,CAAA,QAAK,CAAC,OAAO,CAAC;QAClB,EAAE,OAAO,KAAK;YACV,kIAAA,CAAA,QAAK,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO;YACrC,MAAM,IAAI,MAAM,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO;QAC7C;IACJ;IAEA,MAAM,WAAW,OAAO,OAAO;QAC3B,IAAI;YACA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,0GAAA,CAAA,UAAK,CAAC,IAAI,CAAC,GAAG,QAAQ,GAAG,CAAC,UAAU,CAAC,kBAAkB,CAAC,EAAE;gBAAE;gBAAO;YAAS;YAEnG,aAAa,OAAO,CAAC,SAAS,KAAK,IAAI,CAAC,KAAK;YAC7C,QAAQ;gBAAE;YAAM;YAChB,kIAAA,CAAA,QAAK,CAAC,OAAO,CAAC;QAClB,EAAE,OAAO,KAAK;YACV,kIAAA,CAAA,QAAK,CAAC,KAAK,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO;YACrC,MAAM,IAAI,MAAM,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO;QAC7C;IACJ;IAEA,MAAM,SAAS;QACX,aAAa,UAAU,CAAC;QACxB,QAAQ;QACR,kIAAA,CAAA,QAAK,CAAC,OAAO,CAAC;IAClB;IAEA,qBACI,qKAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;YAAU;QAAO;kBACxD;;;;;;AAGb;AAEO,MAAM,UAAU,IAAM,CAAA,GAAA,mGAAA,CAAA,aAAU,AAAD,EAAE"}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 309, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/umang/OneDrive/Desktop/books/book-manager/src/components/RegisterForm.js"],"sourcesContent":["import { AuthContext } from '@/context/AuthContext';\r\nimport { Box, Button, Card, CardContent, TextField, Typography } from '@mui/material';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport Link from 'next/link'; // Update: Removed unnecessary brackets\r\nimport { useRouter } from 'next/router'; // Import useRouter from next/router\r\nimport { useContext, useState } from 'react';\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    mode: 'dark',\r\n  },\r\n});\r\n\r\nconst RegisterForm = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [emailError, setEmailError] = useState('');\r\n  const [passwordError, setPasswordError] = useState('');\r\n  const [confirmPasswordError, setConfirmPasswordError] = useState('');\r\n  const [registrationError, setRegistrationError] = useState(''); // Added registrationError state\r\n  const { register } = useContext(AuthContext) || {};\r\n  const router = useRouter(); // Initialize useRouter\r\n\r\n  const validateEmail = (email) => {\r\n    const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6}$/;\r\n    if (!regex.test(email)) {\r\n      setEmailError('Invalid email format');\r\n    } else {\r\n      setEmailError('');\r\n    }\r\n  };\r\n\r\n  const validatePassword = (password) => {\r\n    if (password.length < 8) {\r\n      setPasswordError('Password must be at least 8 characters');\r\n    } else {\r\n      setPasswordError('');\r\n    }\r\n  };\r\n\r\n  const validateConfirmPassword = (confirmPassword) => {\r\n    if (confirmPassword !== password) {\r\n      setConfirmPasswordError('Passwords do not match');\r\n    } else {\r\n      setConfirmPasswordError('');\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    validateEmail(email);\r\n    validatePassword(password);\r\n    validateConfirmPassword(confirmPassword);\r\n    if (emailError || passwordError || confirmPasswordError) return;\r\n\r\n    if (typeof register === 'function') {\r\n      try {\r\n        await register(email, password);\r\n        router.push('/'); // Redirect to home page after successful registration\r\n      } catch (error) {\r\n        setRegistrationError('Error during registration'); \r\n      }\r\n    } else {\r\n      console.error('register function is not defined in AuthContext');\r\n      setRegistrationError('Error during registration'); \r\n    }\r\n  };\r\n\r\n  return (\r\n        <ThemeProvider theme={theme}>\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\r\n          <Card sx={{ maxWidth: 400, p: 2, borderRadius: '8px', boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)' }}>\r\n            <CardContent>\r\n              <Typography variant=\"h4\" component=\"h1\" gutterBottom sx={{ mb: 2, mt: 2 }}>\r\n                Books App Register\r\n              </Typography>\r\n              <form onSubmit={handleSubmit} noValidate>\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"Email\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  autoFocus\r\n                  onChange={(e) => {\r\n                    setEmail(e.target.value);\r\n                    validateEmail(e.target.value);\r\n                  }}\r\n                  sx={{ mb: 1 }}\r\n                  error={!!emailError}\r\n                  helperText={emailError}\r\n                  size=\"small\"\r\n                />\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  onChange={(e) => {\r\n                    setPassword(e.target.value);\r\n                    validatePassword(e.target.value);\r\n                  }}\r\n                  sx={{ mb: 1 }}\r\n                  error={!!passwordError}\r\n                  helperText={passwordError}\r\n                  size=\"small\"\r\n                />\r\n                <TextField\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"confirmPassword\"\r\n                  label=\"Confirm Password\"\r\n                  type=\"password\"\r\n                  id=\"confirmPassword\"\r\n                  autoComplete=\"current-password\"\r\n                  onChange={(e) => {\r\n                    setConfirmPassword(e.target.value);\r\n                    validateConfirmPassword(e.target.value);\r\n                  }}\r\n                  sx={{ mb: 1 }}\r\n                  error={!!confirmPasswordError}\r\n                  helperText={confirmPasswordError}\r\n                  size=\"small\"\r\n                />\r\n                <Button\r\n                  type=\"submit\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  sx={{ mt: 3, mb: 2 }}\r\n                  size=\"small\"\r\n                >\r\n                  Register\r\n                </Button>\r\n                {registrationError && <Typography color=\"error\" sx={{ mb: 2 }}>{registrationError}</Typography>}\r\n              </form>\r\n              <Link href=\"/login\" passHref>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"text\"\r\n                  sx={{ mt: 1, mb: 2 }}\r\n                  size=\"small\"\r\n                >\r\n                  Already have an account? Log in\r\n                </Button>\r\n              </Link>\r\n            </CardContent>\r\n          </Card>\r\n        </Box>\r\n      </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default RegisterForm;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 576, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 583, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/umang/OneDrive/Desktop/books/book-manager/src/pages/register.js"],"sourcesContent":["import RegisterForm from '@/components/RegisterForm';\r\nimport { AuthProvider } from '@/context/AuthContext';\r\n\r\nconst Register = () => {\r\n  return (\r\n    <AuthProvider>\r\n      <RegisterForm />\r\n    </AuthProvider>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;;;AAEA,MAAM,WAAW;IACf,qBACE,qKAAC,sHAAA,CAAA,eAAY;kBACX,cAAA,qKAAC,0HAAA,CAAA,UAAY;;;;;;;;;;AAGnB;uCAEe"}},
    {"offset": {"line": 611, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}