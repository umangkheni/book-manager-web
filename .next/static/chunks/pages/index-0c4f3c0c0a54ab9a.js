(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{7276:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(8496)}])},2065:(e,t,r)=>{"use strict";r.d(t,{OJ:()=>d,cy:()=>u});var n=r(4848),o=r(4335),a=r(6540),i=r(1409),s=r(998),c=r.n(s),l=r(7836);c().config(),o.A.interceptors.response.use(e=>e,e=>(404===e.response.status?i.oR.error("Request failed with status code 404"):401===e.response.status?i.oR.error("Invalid credentials"):409===e.response.status?i.oR.error("User already exists"):i.oR.error("An unexpected error occurred"),Promise.reject(e)));let u=(0,a.createContext)(),d=e=>{let{children:t}=e,[r,s]=(0,a.useState)(localStorage.getItem("token")),c=async(e,t)=>{try{let{data:r}=await o.A.post("".concat(l.env.SERVER_URL,"/api/auth/login"),{email:e,password:t});localStorage.setItem("token",r.data.token),s({email:e}),i.oR.success("Login successful")}catch(e){throw i.oR.error(e.response.data.message),Error(e.response.data.message)}},d=async(e,t)=>{try{let{data:r}=await o.A.post("".concat(l.env.SERVER_URL,"/api/auth/register"),{email:e,password:t});localStorage.setItem("token",r.data.token),s({email:e}),i.oR.success("Registration successful")}catch(e){throw i.oR.error(e.response.data.message),Error(e.response.data.message)}};return(0,n.jsx)(u.Provider,{value:{user:r,login:c,register:d,logout:()=>{localStorage.removeItem("token"),s(null),i.oR.success("Logged out successfully")}},children:t})}},8496:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>G});var n=r(4848),o=r(2064),a=r(2413),i=r(992),s=r(1402),c=r(6540),l=r(4335),u=r(998),d=r.n(u),p=r(7836);d().config();let x=(0,c.createContext)(),m=e=>{let{children:t}=e,[r,o]=(0,c.useState)([]),a=async()=>{try{let e=await l.A.get("".concat(p.env.SERVER_URL,"/api/books"));o(e.data)}catch(e){console.error("Error fetching books:",e)}},i=async e=>{await l.A.post("".concat(p.env.SERVER_URL,"/api/books"),e),a()};return(0,c.useEffect)(()=>{a()},[]),(0,n.jsx)(x.Provider,{value:{books:r,addBook:i},children:t})},f=()=>{let{addBook:e}=(0,c.useContext)(x),[t,r]=(0,c.useState)(""),[l,u]=(0,c.useState)("");return(0,n.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",backgroundColor:"#f5f5f5",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,n.jsx)(a.A,{variant:"h5",component:"h2",sx:{mb:2,color:"black"},children:"Add a New Book"}),(0,n.jsxs)("form",{onSubmit:n=>{n.preventDefault(),e({title:t,author:l}),r(""),u("")},sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,n.jsx)(i.A,{label:"Title",value:t,onChange:e=>r(e.target.value),required:!0,sx:{mb:2,width:"100%"}}),(0,n.jsx)(i.A,{label:"Author",value:l,onChange:e=>u(e.target.value),required:!0,sx:{mb:2,width:"100%"}}),(0,n.jsx)(s.A,{type:"submit",variant:"contained",color:"primary",sx:{width:"100%",mt:2},children:"Add Book"})]})]})};var g=r(4164),h=r(9499),b=r(9599),v=r(5659),w=r(2706),k=r(8301),y=r(2907);let j=c.createContext();var S=r(8413),A=r(1609);function R(e){return(0,A.Ay)("MuiGrid",e)}let E=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],C=(0,S.A)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map(e=>"spacing-xs-".concat(e)),...["column-reverse","column","row-reverse","row"].map(e=>"direction-xs-".concat(e)),...["nowrap","wrap-reverse","wrap"].map(e=>"wrap-xs-".concat(e)),...E.map(e=>"grid-xs-".concat(e)),...E.map(e=>"grid-sm-".concat(e)),...E.map(e=>"grid-md-".concat(e)),...E.map(e=>"grid-lg-".concat(e)),...E.map(e=>"grid-xl-".concat(e))]);function N(e){let{breakpoints:t,values:r}=e,n="";Object.keys(r).forEach(e=>{""===n&&0!==r[e]&&(n=e)});let o=Object.keys(t).sort((e,r)=>t[e]-t[r]);return o.slice(0,o.indexOf(n))}let W=(0,w.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e,{container:n,direction:o,item:a,spacing:i,wrap:s,zeroMinWidth:c,breakpoints:l}=r,u=[];n&&(u=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return[r["spacing-xs-".concat(String(e))]];let n=[];return t.forEach(t=>{let o=e[t];Number(o)>0&&n.push(r["spacing-".concat(t,"-").concat(String(o))])}),n}(i,l,t));let d=[];return l.forEach(e=>{let n=r[e];n&&d.push(t["grid-".concat(e,"-").concat(String(n))])}),[t.root,n&&t.container,a&&t.item,c&&t.zeroMinWidth,...u,"row"!==o&&t["direction-xs-".concat(String(o))],"wrap"!==s&&t["wrap-xs-".concat(String(s))],...d]}})(e=>{let{ownerState:t}=e;return{boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},...t.item&&{margin:0},...t.zeroMinWidth&&{minWidth:0},..."wrap"!==t.wrap&&{flexWrap:t.wrap}}},function(e){let{theme:t,ownerState:r}=e,n=(0,h.kW)({values:r.direction,breakpoints:t.breakpoints.values});return(0,h.NI)({theme:t},n,e=>{let t={flexDirection:e};return e.startsWith("column")&&(t["& > .".concat(C.item)]={maxWidth:"none"}),t})},function(e){let{theme:t,ownerState:r}=e,{container:n,rowSpacing:o}=r,a={};if(n&&0!==o){let e;let r=(0,h.kW)({values:o,breakpoints:t.breakpoints.values});"object"==typeof r&&(e=N({breakpoints:t.breakpoints.values,values:r})),a=(0,h.NI)({theme:t},r,(r,n)=>{let o=t.spacing(r);return"0px"!==o?{marginTop:"calc(-1 * ".concat(o,")"),["& > .".concat(C.item)]:{paddingTop:o}}:(null==e?void 0:e.includes(n))?{}:{marginTop:0,["& > .".concat(C.item)]:{paddingTop:0}}})}return a},function(e){let{theme:t,ownerState:r}=e,{container:n,columnSpacing:o}=r,a={};if(n&&0!==o){let e;let r=(0,h.kW)({values:o,breakpoints:t.breakpoints.values});"object"==typeof r&&(e=N({breakpoints:t.breakpoints.values,values:r})),a=(0,h.NI)({theme:t},r,(r,n)=>{let o=t.spacing(r);return"0px"!==o?{width:"calc(100% + ".concat(o,")"),marginLeft:"calc(-1 * ".concat(o,")"),["& > .".concat(C.item)]:{paddingLeft:o}}:(null==e?void 0:e.includes(n))?{}:{width:"100%",marginLeft:0,["& > .".concat(C.item)]:{paddingLeft:0}}})}return a},function(e){let t,{theme:r,ownerState:n}=e;return r.breakpoints.keys.reduce((e,o)=>{let a={};if(n[o]&&(t=n[o]),!t)return e;if(!0===t)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{let i=(0,h.kW)({values:n.columns,breakpoints:r.breakpoints.values}),s="object"==typeof i?i[o]:i;if(null==s)return e;let c="".concat(Math.round(t/s*1e8)/1e6,"%"),l={};if(n.container&&n.item&&0!==n.columnSpacing){let e=r.spacing(n.columnSpacing);if("0px"!==e){let t="calc(".concat(c," + ").concat(e,")");l={flexBasis:t,maxWidth:t}}}a={flexBasis:c,flexGrow:0,maxWidth:c,...l}}return 0===r.breakpoints.values[o]?Object.assign(e,a):e[r.breakpoints.up(o)]=a,e},{})}),_=e=>{let{classes:t,container:r,direction:n,item:o,spacing:a,wrap:i,zeroMinWidth:s,breakpoints:c}=e,l=[];r&&(l=function(e,t){if(!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return["spacing-xs-".concat(String(e))];let r=[];return t.forEach(t=>{let n=e[t];if(Number(n)>0){let e="spacing-".concat(t,"-").concat(String(n));r.push(e)}}),r}(a,c));let u=[];c.forEach(t=>{let r=e[t];r&&u.push("grid-".concat(t,"-").concat(String(r)))});let d={root:["root",r&&"container",o&&"item",s&&"zeroMinWidth",...l,"row"!==n&&"direction-xs-".concat(String(n)),"wrap"!==i&&"wrap-xs-".concat(String(i)),...u]};return(0,v.A)(d,R,t)},L=c.forwardRef(function(e,t){let r=(0,k.b)({props:e,name:"MuiGrid"}),{breakpoints:o}=(0,y.A)(),a=(0,b.A)(r),{className:i,columns:s,columnSpacing:l,component:u="div",container:d=!1,direction:p="row",item:x=!1,rowSpacing:m,spacing:f=0,wrap:h="wrap",zeroMinWidth:v=!1,...w}=a,S=c.useContext(j),A=d?s||12:S,R={},E={...w};o.keys.forEach(e=>{null!=w[e]&&(R[e]=w[e],delete E[e])});let C={...a,columns:A,container:d,direction:p,item:x,rowSpacing:m||f,columnSpacing:l||f,wrap:h,zeroMinWidth:v,spacing:f,...R,breakpoints:o.keys},N=_(C);return(0,n.jsx)(j.Provider,{value:A,children:(0,n.jsx)(W,{ownerState:C,className:(0,g.A)(N.root,i),as:u,ref:t,...E})})});var I=r(1501),M=r(2689),B=r(2065);let O=()=>{let{books:e}=(0,c.useContext)(x),{user:t,logout:r}=(0,c.useContext)(B.cy);return(0,n.jsxs)(L,{container:!0,spacing:2,sx:{mt:5,justifyContent:"center",px:4},children:[(0,n.jsx)(a.A,{variant:"h4",component:"h1",sx:{mb:2,textAlign:"center"},children:"Book List"}),(0,n.jsx)(L,{container:!0,spacing:2,sx:{display:"flex",flexWrap:"wrap",justifyContent:"start",mx:"auto"},children:e.map(e=>(0,n.jsx)(L,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,sx:{mb:2,mx:"auto"},children:(0,n.jsx)(I.A,{sx:{backgroundColor:"#f5f5f5",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",mx:"auto","&:hover":{boxShadow:"0 8px 12px rgba(0, 0, 0, 0.2)"},"&:active":{boxShadow:"0 10px 15px rgba(0, 0, 0, 0.3)"}},children:(0,n.jsxs)(M.A,{children:[(0,n.jsx)(a.A,{variant:"h5",component:"h2",sx:{textAlign:"center",fontWeight:"bold"},children:e.title}),(0,n.jsxs)(a.A,{variant:"body2",color:"textSecondary",sx:{textAlign:"center",mt:1},children:["by ",e.author]})]})})},e._id))}),(0,n.jsx)(s.A,{variant:"contained",color:"primary",onClick:r,sx:{mt:2,mx:"auto"},children:"Logout"})]})},G=()=>(0,n.jsx)(B.OJ,{children:(0,n.jsx)(m,{children:(0,n.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#333"},children:[(0,n.jsx)(a.A,{variant:"h1",gutterBottom:!0,sx:{color:"#fff",fontWeight:"bold"},children:"Book Manager"}),(0,n.jsx)(f,{sx:{my:2}}),(0,n.jsx)(O,{sx:{my:2}})]})})})},2016:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[200,59,636,593,792],()=>t(7276)),_N_E=e.O()}]);